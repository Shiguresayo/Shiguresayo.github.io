<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>スロットテスト</title>
<style>
  .reel-container { display:flex; justify-content:center; gap:10px; margin:50px;}
  .reel-wrapper { width:100px; height:100px; overflow:hidden; border:2px solid #333;}
  .reel-inner { display:flex; flex-direction:column; }
  .reel-inner img { width:100px; height:100px; }
</style>
</head>
<body>

<div class="reel-container">
  <div class="reel-wrapper"><div class="reel-inner"><img src="pamo1.jpg"><img src="pamo2.jpg"><img src="pamo3.jpg"></div></div>
  <div class="reel-wrapper"><div class="reel-inner"><img src="pamo1.jpg"><img src="pamo2.jpg"><img src="pamo3.jpg"></div></div>
  <div class="reel-wrapper"><div class="reel-inner"><img src="pamo1.jpg"><img src="pamo2.jpg"><img src="pamo3.jpg"></div></div>
</div>
<button id="startBtn">スタート</button>

<script>
const reelInners = document.querySelectorAll(".reel-inner");
const btn = document.getElementById("startBtn");
let positions = [0,0,0];

btn.addEventListener("click", () => {
    btn.disabled = true;
    let speed = [10,10,10];
    let frame = 0;

    function animate(){
        reelInners.forEach((inner,i)=>{
            positions[i] += speed[i];
            positions[i] %= 300; // 画像3枚 x100px
            inner.style.transform = `translateY(-${Math.floor(positions[i])}px)`;

            // 減速開始
            if(frame > i*15){
                let t = Math.min((frame-i*15)/30,1);
                speed[i] = 10*(1-t*t); // 二次イージング
            }
        });

        frame++;
        if(frame < 100){
            requestAnimationFrame(animate);
        } else {
            btn.disabled = false;
        }
    }

    animate();
});
</script>

</body>
</html>
